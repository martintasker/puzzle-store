{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d6791d29db2b30687544","webpack:///./src/index.js","webpack:///external \"redux\"","webpack:///./src/app.reducer.js","webpack:///external \"immutable\"","webpack:///./src/actions.js","webpack:///./src/current.reducer.js","webpack:///./src/puzzle.reducer.js","webpack:///./src/puzzle-progress.reducer.js"],"names":["store","actions","state","initialAppState","action","type","id","puzzle","updateIn","map","set","puzzleData","getIn","newAction","_setCurrentPuzzle","Map","currentState","addPuzzleData","activatePuzzle","_setPuzzleData","_setPuns","puns","showAlways","showState","showOnHover","showBelow","showNever","setPunDone","index","punStatus","setPunNotDone","setPunRight","setPunWrong","initialState","newPuzzleState","get","subState","puzzleId","puzzles","undefined","initialPuzzleState","newPuzzleProgressState","showActionTypes","includes","show","List","pun","status","statusActionTypes"],"mappings":"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","file":"puzzle-store.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"), require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"redux\", \"immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PuzzleStore\"] = factory(require(\"redux\"), require(\"immutable\"));\n\telse\n\t\troot[\"PuzzleStore\"] = factory(root[\"redux\"], root[\"immutable\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d6791d29db2b30687544","import {createStore} from 'redux';\nimport appState from './app.reducer';\n\n// export the actions and the store\nimport actions from './actions';\nconst store = createStore(appState);\n\nexport default {store, actions};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 1\n// module chunks = 0","import Immutable from 'immutable';\n\n/*\n  appState - describes the state of the entire app\n\n  {\n    puzzleData: map of {key -> puzzleSpec}\n    currentState: currentState\n  }\n*/\n\nimport actions from './actions';\nimport currentState from './current.reducer';\n\nconst initialAppState = Immutable.Map({currentState: currentState(), puzzleData: Immutable.Map()});\n\nexport default function(state = initialAppState, action) {\n  if (!action) {\n    return state;\n  }\n\n  if (action.type === 'ADD_PUZZLE_DATA') {\n    const {id, puzzle} = action;\n    return state.updateIn(['puzzleData'], map => map.set(id, puzzle));\n  }\n\n  if (action.type === 'ACTIVATE_PUZZLE') {\n    let {id} = action;\n    let puzzleData = state.getIn(['puzzleData', id]);\n    let newAction = actions._setCurrentPuzzle(id, puzzleData);\n    return state.updateIn(['current'], state => currentState(state, newAction));\n  }\n\n  // generic and default handling\n  state = state.updateIn(['current'], state => currentState(state, action))\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.reducer.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"immutable\"\n// module id = 3\n// module chunks = 0","const actions = {\n  // setup time: add puzzle data into store side of state\n  addPuzzleData: (id, puzzle) => { return { type: 'ADD_PUZZLE_DATA', id, puzzle }},\n\n  // navigation time, set current puzzle\n  activatePuzzle: (id) => { return { type: 'ACTIVATE_PUZZLE', id }},\n  _setCurrentPuzzle: (id, puzzleData) => { return { type: 'SET_CURRENT_PUZZLE', id, puzzleData }},\n  _setPuzzleData: (puzzleData) => { return { type: 'SET_PUZZLE_DATA', puzzleData }},\n  _setPuns: (puns) => { return { type: 'SET_PUNS', puns }},\n\n  // control visibility of answers, in context of current puzzle\n  showAlways: () => { return { type: 'SHOW_ALWAYS', showState: 'always' }},\n  showOnHover: () => { return { type: 'SHOW_ON_HOVER', showState: 'on-hover' }},\n  showBelow: () => { return { type: 'SHOW_BELOW', showState: 'below' }},\n  showNever: () => { return { type: 'SHOW_NEVER', showState: 'never' }},\n\n  // control state of pun given by index, in context of current puzzle\n  setPunDone: (index) => { return { type: 'SET_PUN_DONE', index, punStatus: 'done' }},\n  setPunNotDone: (index) => { return { type: 'SET_PUN_NOT_DONE', index, punStatus: 'not-done' }},\n  setPunRight: (index) => { return { type: 'SET_PUN_RIGHT', index, punStatus: 'right' }},\n  setPunWrong: (index) => { return { type: 'SET_PUN_WRONG', index, punStatus: 'wrong' }},\n}\n\nexport default actions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions.js","import Immutable from 'immutable';\n\n/*\n  currentState gives status of user interactions with app\n\n  {\n    puzzleId: key, indexing into puzzles\n    puzzles: map of {key -> puzzleState}\n  }\n\n  There is a concept of \"the current puzzle state\" which can be found by taking puzzles[puzzleId].\n*/\n\nimport actions from './actions';\nimport puzzleState from './puzzle.reducer';\n\nconst initialState = Immutable.Map({puzzleId: null, puzzles: Immutable.Map()});\n\n// todo: export the below from puzzleState\nfunction newPuzzleState(puzzleData) {\n  return puzzleState(undefined, actions._setPuzzleData(puzzleData));\n}\n\nexport default function(state = initialState, action) {\n  if (!action) {\n    return state;\n  }\n\n  if (action.type === 'SET_CURRENT_PUZZLE') {\n    let {id, puzzleData} = action;\n    return state.set('puzzleId', id).updateIn(['puzzles', id], puzzle => !puzzle ? newPuzzleState(puzzleData) : puzzle);\n  }\n\n  // generic and default handling\n  state = state.updateIn(['puzzles', state.get('puzzleId')], subState => puzzleState(subState, action));\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/current.reducer.js","import Immutable from 'immutable';\n\n/*\n  puzzleState, data and progress in relation to one puzzle\n\n  {\n    show: show-state (one of 'never', 'always', 'below', 'on-hover')\n    puzzleData: puzzleProgressState\n  }\n*/\n\nimport puzzleProgressState from './puzzle-progress.reducer';\n\nconst initialPuzzleState = Immutable.Map({show: 'never'});\n\nfunction newPuzzleProgressState(puns) {\n  return puzzleProgressState(undefined, {type: 'SET_PUNS', puns});\n}\n\nexport default function(state = initialPuzzleState, action) {\n  if (!action) {\n    return state;\n  }\n\n  if (action.type === 'SET_PUZZLE_DATA') {\n    return state.set('puzzleData', newPuzzleProgressState(action.puzzleData.puzzle.puns));\n  }\n  \n  const showActionTypes = ['SHOW_NEVER', 'SHOW_ALWAYS', 'SHOW_BELOW', 'SHOW_ON_HOVER'];\n  if (showActionTypes.includes(action.type)) {\n    return state.set('show', action.showState);\n  }\n\n  // generic and default handling\n  state = state.updateIn(['puzzleData'], state => puzzleProgressState(state, action));\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle.reducer.js","import Immutable from 'immutable';\n\n/*\n  puzzleProgressState: completion state of each pun within a puzzle\n\n  [\n    { index -> {\n      status: one of 'not-done', 'done', 'right', 'wrong'\n    }}\n  ]\n\n  The indexes increase sequentially from zero and correspond to the index of the map, in the list.\n*/\n\nconst initialState = Immutable.List();\n\nexport default function(state = initialState, action) {\n  if (!action) {\n    return state;\n  }\n\n  if (action.type === 'SET_PUNS') {\n    let {puns} = action;\n    return Immutable.List(puns.map((pun, index) => Immutable.Map({index, status: 'not-done'})));\n  }\n  \n  const statusActionTypes = ['SET_PUN_NOT_DONE', 'SET_PUN_RIGHT', 'SET_PUN_WRONG', 'SET_PUN_DONE'];\n  if (statusActionTypes.includes(action.type)) {\n    const {punStatus} = action;\n    return state.updateIn([action.index, 'status'], () => punStatus);\n  }\n\n  return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/puzzle-progress.reducer.js"],"sourceRoot":""}